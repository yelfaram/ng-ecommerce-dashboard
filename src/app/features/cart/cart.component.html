@if (cart$ | async; as cart) {
<div class="cart-container">
  <h2>Your Cart</h2>

  @for (item of cart; track item.product.id) {
  <mat-card class="cart-item">
    <mat-card-content>
      <div class="item-info">
        <div>
          <h3>{{ item.product.title }}</h3>
          <p>Price: ${{ item.product.price.toFixed(2) }}</p>
          <p>Total: ${{ (item.product.price * item.quantity).toFixed(2) }}</p>
        </div>

        <div class="quantity-controls">
          <button mat-icon-button (click)="decreaseQuantity(item.product)">
            <mat-icon>remove</mat-icon>
          </button>
          <span>{{ item.quantity }}</span>
          <button mat-icon-button (click)="increaseQuantity(item.product)">
            <mat-icon>add</mat-icon>
          </button>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  }

  <div class="cart-footer">
    <div class="cart-total">Total: ${{ getCartTotal(cart) }}</div>
    <button mat-stroked-button (click)="clearCart()">Clear Cart</button>
  </div>
</div>
}
